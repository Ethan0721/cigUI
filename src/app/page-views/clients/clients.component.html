
  <div class="get-client-list">
    <a (click)="switchPage('CLIENT_LIST')" href="#">Client List >> </a>
    <p-table [columns]="cols" [value]="clients" *ngIf="clientAction==='CLIENT_LIST'" class="client-table">
      <ng-template pTemplate="header">
          <tr>
              <th>WeChatId</th>
              <th>Name</th>
              <th>University</th>
              <th>Created Date</th>
              <th>Order</th>
          </tr>
      </ng-template>
      <ng-template pTemplate="body" let-client>
          <tr>
              <td (click)="expandRow(client.wechatId)"> 
                <!-- <i [ngClass]="!expanded ? 'fa fa-angle-down' : 'fa fa-angle-right'"  aria-hidden="true"></i> -->
                <i class='fa fa-angle-right'  aria-hidden="true"></i> 
                &nbsp;
                 {{client.wechatId}}
              </td>
              <td>{{client.name}}</td>
              <td>{{client.university}}</td>
              <td>{{client.createdDate*1000 | date:'MM/dd/yyyy'}}</td>
              <td>
                <!-- <a (click)="switchPage('GET_DETAIL', client.wechatId)" href="#Detail">Details / </a> -->
                <a (click)="switchPage('EDIT_DETAIL', client.wechatId)" href="#Edit" >Edit</a>
              </td>
          </tr>
          <tr *ngIf="!expanded && selectedClient.wechatId===client.wechatId">
            <td colspan='5'>
                <ng-container>
                    <p-table [columns]="cols" [value]="selectedClientOrderHistory" class="order-table">
                        <ng-template pTemplate="header">
                            <tr>
                                <th>Income</th>
                                <th>Order Date</th>
                                <th>Details</th>
                            </tr>
                        </ng-template>
                        <ng-template pTemplate="body"  class="order-table-body" let-expanded="expanded" let-order>
                            <tr>
                            <td>${{order.income}}</td>
                            <td>{{order.orderDate*1000 | date:'MM/dd/yyyy'}}</td>
                            <td>{{order.info}}</td>
                            </tr>
                        </ng-template>
                        <ng-template pTemplate="summary">
                            Total {{selectedClientOrderHistory?.length}} Orders / Total Bought {{client.totalBought}} Packs
                        </ng-template>
                    </p-table>
                 </ng-container>
              </td>             
            </tr>
      </ng-template>
  </p-table>
  <div class="edit-client-detail" *ngIf="clientAction==='EDIT_DETAIL'">
      <a (click)="switchPage('EDIT_DETAIL')" href="#">Edit Details >> </a>
  </div>
  </div>
<div class="edit-modal">
    <app-cig-modal
        closeOnEscape="true"
        width="580"
        height="600"
        title="Edit Clients"
        [(visible)]="displayModal && selectedClient"
    >
    <div class="body-content" *ngIf="selectedClient">
        <form>
            <div class="form-group">
                <label for="wechatId">WechatId </label> <i> {{selectedClient.wechatId}} </i>
            </div>
            <div class="form-group">
                <label for="name">Name</label>
                <input type="text" class="form-control" id="name" required>
            </div>            
            <div class="form-group">
                <label for="university">University</label>
                <div>
                    <div><p-radioButton name="group2" value="Drexel" label="Drexel" [(ngModel)]="selectedClient.university" inputId="drexel"></p-radioButton></div>
                    <div><p-radioButton name="group2" value="Temple" label="Temple" [(ngModel)]="selectedClient.university" inputId="temple"></p-radioButton></div>
                    <div><p-radioButton name="group2" value="Upenn" label="Upenn" [(ngModel)]="selectedClient.university" inputId="upenn"></p-radioButton></div>
                    <div><p-radioButton name="group2" value="Empty" label="Null" [(ngModel)]="university" inputId="empty"></p-radioButton></div>
                </div>
            </div>            
            <div class="form-group">
                <label for="address">Address</label>
                <input type="text" class="form-control" id="address">
            </div>
            <div class="form-group">
                <label for="friends">Friends</label>
                <input type="text" class="form-control" id="friends">
            </div>
            <div class="form-group">
                <label for="date">Created Date</label>
                <p-calendar [(ngModel)]="date" name="date"></p-calendar>
            </div>
            <button type="submit" class="btn btn-success">Submit</button>               
        </form>
        <button (click)="displayModal = false">Close</button>
    </div>
    </app-cig-modal>
</div>
